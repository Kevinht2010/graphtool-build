(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{166:function(e,t,n){},167:function(e,t,n){},303:function(e,t,n){"use strict";n.r(t);var i=n(2),o=n(0),r=n.n(o),s=n(25),c=n.n(s),a=(n(166),n.p,n(167),n(35)),l=(n(132),n(72));var d=n(6);function p(e){var t=Object(o.useState)(e.position),n=Object(d.a)(t,2),r=n[0],s=n[1],c=r[0],a=r[1];return Object(o.useEffect)((function(){s(e.position)}),[e.position]),Object(i.jsxs)("g",{style:{userSelect:"none"},onMouseDown:function(t){return e.dragStart(t,e.id,!0)},onMouseUp:function(t){return e.dragEnd(t)},children:[Object(i.jsx)("circle",{cx:c,cy:a,r:"40",stroke:"#2ab863","stroke-width":"4",fill:"#ccffcf"}),Object(i.jsx)("text",{pointerEvents:"none",textAnchor:"middle",transform:"translate(".concat(c,", ").concat(a+5,")"),fontSize:"20",children:e.id})]})}function u(e,t){return Math.sqrt(Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2))}var j=function(e){var t,n,r=Object(o.useState)(e.node1),s=Object(d.a)(r,2),c=s[0],a=s[1],l=Object(o.useState)(e.node2),p=Object(d.a)(l,2),j=p[0],b=p[1],h=Object(o.useState)(e.bendPos),g=Object(d.a)(h,2),f=(g[0],g[1]);return!1===e.bendPos.bent?(t=[(c.posX+j.posX)/2,(c.posY+j.posY)/2],n="M "+c.posX+" "+c.posY+" Q "+t[0]+" "+t[1]+" "+j.posX+" "+j.posY):(t=[e.bendPos.posX,e.bendPos.posY],n=function(e){var t=e[0],n=e[2],i=e[1],o=u(n,i),r=u(i,t),s=u(t,n),c=Math.acos((o*o+r*r-s*s)/(2*o*r)),a=.5*o*r*Math.sin(c),l=o*r*s/4/a;l=Math.round(1e3*l)/1e3;var d=+(Math.PI/2>c),p=+((n[0]-t[0])*(i[1]-t[1])-(n[1]-t[1])*(i[0]-t[0])<0);return["M",t,"A",l,l,0,d,p,n].join(" ")}([[j.posX,j.posY],t,[c.posX,c.posY]])),Object(o.useEffect)((function(){a(e.node1),b(e.node2),f(e.bendPos)}),[e.node1,e.node2,e.bendPos]),Object(i.jsxs)("svg",{children:[Object(i.jsx)("svg",{children:Object(i.jsx)("circle",{onMouseDown:function(t){e.dragStart(t,e.id,!1)},onMouseUp:function(t){return e.dragEnd(t)},cx:t[0],cy:t[1],r:6})}),Object(i.jsx)("svg",{children:Object(i.jsx)("path",{"pointer-events":"none",d:n,stroke:"black",fill:"transparent","stroke-width":"3","shape-rendering":"geometricPrecision"})})]})};function b(e){var t=Object(o.useState)(!1),n=Object(d.a)(t,2),r=n[0],s=n[1],c=Object(o.useState)(),a=Object(d.a)(c,2),l=a[0],u=a[1],b=Object(o.useState)(!1),h=Object(d.a)(b,2),g=h[0],f=h[1],x=Object(o.useState)(!1),O=Object(d.a)(x,2),m=O[0],v=O[1],y=Object(o.useState)(0),w=Object(d.a)(y,2),S=w[0],C=w[1],I=Object(o.useState)(0),k=Object(d.a)(I,2),E=k[0],X=k[1],Y=Object(o.useState)([]),P=Object(d.a)(Y,2),M=P[0],N=P[1],T=function(t,n,i){if(!0===r){if(e.deletingVertex)return void e.deleteVertex(n);if(u(n),C(t.clientX),X(t.clientY),i)f(!0),N([e.vertices[n].posX,e.vertices[n].posY]);else if(v(!0),!0===e.bendPositions.get(n).bent)N([e.bendPositions.get(n).posX,e.bendPositions.get(n).posY]);else{var o=e.vertices[e.edges.get(n).node1],s=e.vertices[e.edges.get(n).node2];N([(o.posX+s.posX)/2,(o.posY+s.posY)/2])}}},F=function(e){if(g&&r){var t=e.clientX-S,n=e.clientY-E;L({id:l,posX:M[0]+t,posY:M[1]+n})}else if(m&&r){var i=e.clientX-S,o=e.clientY-E;V({id:l,posX:M[0]+i,posY:M[1]+o,bent:!0})}},G=function(){f(!1),v(!1)},L=function(t){var n=e.vertices.slice(0);n[t.id]=t,e.setVertices(n)},V=function(t){var n=new Map(e.bendPositions.set(t.id,t));e.setBendPositions(n)};return Object(o.useEffect)((function(){}),[e.vertices,e.bendPositions,e.bendPositions,e.edges,e.vertices]),Object(i.jsxs)("svg",{style:{height:"600vh",width:"600vw",backgroundColor:"#dbedff"},onMouseOver:function(){s(!0)},onMouseLeave:function(e){F(e),s(!1),G()},onMouseMove:function(e){F(e)},onMouseUp:function(){return G()},children:[function(t){var n=[];return e.edges.forEach((function(t){n.push(Object(i.jsx)(j,{dragStart:T,dragEnd:G,id:t.id,node1:e.vertices[t.node1],node2:e.vertices[t.node2],bendPos:e.bendPositions.get(t.id)}))})),n}(),e.vertices.map((function(e){return Object(i.jsx)(p,{dragStart:T,dragEnd:G,id:e.id,position:[e.posX,e.posY]})}))]})}n(168);var h=n(85),g=n(15),f=n(156),x=function e(t,n){var i=this;Object(a.a)(this,e),this.addEdge=function(e,t){return!(!/^\d+$/.test(e)||!/^\d+$/.test(t))&&(e=Number(e),t=Number(t),!(!Number.isInteger(e)||e>i.vertices.length-1)&&(!(!Number.isInteger(t)||t>i.vertices.length-1)&&(e!=t&&(n=e>t?t+"."+e:e+"."+t,i.edges.set(n,{id:n,node1:e,node2:t,bent:!1,posX:null,posY:null}),i.bendPositions.set(n,{id:n,bent:!1,posX:null,posY:null}),!0))));var n},console.log(n),this.vertices=[];for(var o=0;o<t;++o)this.vertices.push({id:o,posX:500,posY:500});this.edges=new Map,this.bendPositions=new Map,this.valid=!0,this.errors=[];for(var r=0;r<n.length;++r){this.errors.push("none");var s,c=Object(l.a)(n[r]);try{for(c.s();!(s=c.n()).done;){var d=s.value;if(!this.addEdge(r,d)){this.valid=!1,this.errors[r]="error";break}""===d&&(this.errors[r]="error")}}catch(p){c.e(p)}finally{c.f()}}},O=n(56),m=n(306),v=n(312),y=n(308),w=n(307),S=n(311),C=n(310),I=n(309);n(169);var k=Object(g.h)((function(e){var t=Object(o.useState)(),n=Object(d.a)(t,2),s=n[0],c=n[1],a=Object(o.useState)(!1),l=Object(d.a)(a,2),p=l[0],u=l[1],j=Object(o.useState)(!1),b=Object(d.a)(j,2),h=b[0],g=b[1],f=Object(o.useState)(!1),x=Object(d.a)(f,2),v=x[0],C=x[1],I=Object(o.useState)(!1),k=Object(d.a)(I,2),E=k[0],X=k[1],Y=Object(o.useState)(!1),P=Object(d.a)(Y,2),M=P[0],N=P[1];Object(o.useEffect)((function(){}),[e.modal]);var T=function(e){!function(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}(e)?u(!0):fetch("https://graphtt.herokuapp.com/login",{method:"POST",body:JSON.stringify({email:e,route:"https://kevinht2010.github.io/graphtool/#/"}),headers:{"Content-type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return g(!0)}))},F=function(){e.setModal(!1),u(!1),g(!1),X(!1),C(!1),N(!1)},G=function(){return Object(i.jsx)(r.a.Fragment,{children:Object(i.jsx)("div",{style:{height:"40px",width:"100%",marginTop:"25px"},children:Object(i.jsx)(S.a,{message:"Graph successfully retrieved",type:"success",showIcon:!0})})})},L=function(){return Object(i.jsx)(r.a.Fragment,{children:Object(i.jsx)("div",{style:{height:"40px",width:"100%",marginTop:"25px"},children:Object(i.jsx)(S.a,{message:"Graph successfully saved",type:"success",showIcon:!0})})})},V=function(){return Object(i.jsx)(r.a.Fragment,{children:Object(i.jsx)("div",{style:{height:"40px",width:"100%",marginTop:"25px"},children:Object(i.jsx)(S.a,{message:"No graph to retrieve. Save a graph first!",type:"error",showIcon:!0})})})};return Object(i.jsx)(r.a.Fragment,{children:1==e.loggedIn?function(){var t=Object(i.jsxs)(r.a.Fragment,{children:[Object(i.jsx)(O.a,{onClick:function(){F()},children:"Return"},"back"),Object(i.jsx)(O.a,{type:"primary",onClick:function(){F(),e.logOut()},children:"Log out"},"back")]});return Object(i.jsxs)(w.a,{style:{top:"22%"},width:"550px",bodyStyle:{minHeight:"120px"},title:"Logged into "+localStorage.getItem("email"),visible:e.modal,onOk:function(){F()},onCancel:function(){F()},footer:t,children:[Object(i.jsxs)("div",{style:{display:"flex",width:"100%",justifyContent:"center",marginBottom:"5px",marginTop:"-15px",flexWrap:"wrap"},children:[Object(i.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"center",width:"220px"},children:[Object(i.jsx)("div",{style:{margin:"14px",fontSize:"18px",fontWeight:"480"},children:"Save current graph:"}),Object(i.jsx)(O.a,{type:"primary",onClick:function(){console.log(e.bendPositions),1==e.loggedIn&&fetch("https://graphtt.herokuapp.com/api/upload",{method:"POST",body:JSON.stringify({type:"upload",email:localStorage.getItem("email"),edges:JSON.stringify(Array.from(e.edges.entries())),vertices:JSON.stringify(e.vertices),bentpos:JSON.stringify(Array.from(e.bendPositions.entries()))}),headers:{"Content-type":"application/json"}}).then((function(e){return e.json()})).then((function(e){C(!0)})),C(!1),X(!1),N(!1)},children:"Save Graph"})]}),Object(i.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"center",width:"220px"},children:[Object(i.jsx)("div",{style:{margin:"14px",fontSize:"18px",fontWeight:"480"},children:"Retrieve saved graph:"}),Object(i.jsx)(O.a,{type:"primary",onClick:function(){1==e.loggedIn&&fetch("https://graphtt.herokuapp.com/api/retrieve",{method:"POST",body:JSON.stringify({type:"retrieve",email:localStorage.getItem("email")}),headers:{"Content-type":"application/json"}}).then((function(e){return e.json()})).then((function(t){console.log(t),X(!0);var n=new Map(JSON.parse(t.edges)),i=new Map(JSON.parse(t.bentpos));e.setGraph(n,JSON.parse(t.vertices),i)})),C(!1),X(!1),N(!1)},children:"Retrieve Graph"})]}),Object(i.jsx)("div",{style:{marginTop:"45px",marginBottom:"-15px"},children:"(Currently this feature is limited to 1 graph per user)"})]}),v?L():Object(i.jsx)(r.a.Fragment,{}),E?G():Object(i.jsx)(r.a.Fragment,{}),M?V():Object(i.jsx)(r.a.Fragment,{})]})}():function(){var t=Object(i.jsxs)(r.a.Fragment,{children:[Object(i.jsx)(O.a,{onClick:function(){F()},style:{marginTop:"10px",marginBottom:"10px",marginRight:"46%"},children:"Return"},"back"),Object(i.jsx)(O.a,{type:"primary",onClick:function(){T(s)},children:"Send Confirmation Email"},"back")]});return Object(i.jsx)(w.a,{style:{top:"22%"},width:"550px",bodyStyle:{minHeight:"100px"},title:"Log In To Save Graphs",visible:e.modal,onOk:function(){F()},onCancel:function(){F()},footer:t,onClick:function(){return u(!1)},children:Object(i.jsxs)("div",{onClick:function(){u(!1)},children:[Object(i.jsx)(m.a,{name:"basic",style:{height:"30px"},children:Object(i.jsx)(m.a.Item,{label:"Email",name:"email",children:Object(i.jsx)(y.a,{onChange:function(e){c(e.target.value)}})})}),h?Object(i.jsx)(r.a.Fragment,{children:Object(i.jsx)("div",{style:{height:"40px",width:"100%",marginTop:"23px"},children:Object(i.jsx)(S.a,{message:"Email successfully sent to "+s,type:"success",showIcon:!0})})}):Object(i.jsx)(r.a.Fragment,{}),p?Object(i.jsx)(r.a.Fragment,{children:Object(i.jsx)("div",{style:{height:"40px",width:"100%",marginTop:"23px"},children:Object(i.jsx)(S.a,{message:"Invalid Email",type:"error",showIcon:!0})})}):Object(i.jsx)(r.a.Fragment,{})]})})}()})}));function E(e){var t=Object(o.useState)(!1),n=Object(d.a)(t,2),s=n[0],c=n[1],a=Object(o.useState)(!1),l=Object(d.a)(a,2),p=l[0],u=l[1],j=Object(o.useState)([{id:"cycles",value:"5"}]),b=Object(d.a)(j,2),h=b[0],g=b[1],E=Object(o.useState)(!1),X=Object(d.a)(E,2),Y=X[0],P=X[1],M=Object(o.useState)(!1),N=Object(d.a)(M,2),T=(N[0],N[1]),F=Object(o.useState)(!1),G=Object(d.a)(F,2),L=G[0],V=G[1],z=Object(o.useState)("none"),A=Object(d.a)(z,2),D=A[0],W=A[1],J=Object(o.useState)("none"),B=Object(d.a)(J,2),R=B[0],_=B[1],H=Object(o.useState)(""),U=Object(d.a)(H,2),$=U[0],Z=U[1],q=Object(o.useState)(""),Q=Object(d.a)(q,2),K=Q[0],ee=Q[1],te=Object(o.useState)(1),ne=Object(d.a)(te,2),ie=ne[0],oe=ne[1],re=Object(o.useState)(0),se=Object(d.a)(re,2),ce=se[0],ae=se[1],le=Object(o.useState)(),de=Object(d.a)(le,2),pe=de[0],ue=de[1],je=Object(o.useState)(),be=Object(d.a)(je,2),he=be[0],ge=be[1],fe=Object(o.useState)(),xe=Object(d.a)(fe,2),Oe=xe[0],me=xe[1],ve=Object(o.useState)(!1),ye=Object(d.a)(ve,2),we=ye[0],Se=ye[1],Ce=["Components","Hamiltonian Cycles"],Ie=["Spanning Trees","Euler Tours"],ke=["Planarity","Longest/Shortest Cycles"],Ee=function(){var t=new x(ce,he);!0===t.valid?(e.setGraph(t.edges,t.vertices,t.bendPositions),Xe()):me(t.errors)},Xe=function(){ae(0),u(!1),ue("none"),ge(),me()},Ye=function(t){var n;if(""!==$&&""!==K)return n=t?e.addEdge($,K):e.deleteEdge($,K),W(n[0]),_(n[1]),n;var i=[];return""===$?i.push("error"):i.push("none"),""===K?i.push("error"):i.push("none"),W(i[0]),_(i[1]),i};return Object(i.jsxs)(r.a.Fragment,{children:[Object(i.jsxs)("div",{style:{position:"absolute",display:"flex",marginTop:"20px",marginLeft:"20px"},children:[Object(i.jsx)(O.a,{style:{margin:"8px",height:"35px",width:"150px",fontSize:"15px"},type:"primary",onClick:function(){return u(!0)},children:"Input Graph"}),Object(i.jsx)(O.a,{style:{margin:"8px",height:"35px",width:"150px",fontSize:"15px"},type:"primary",onClick:function(){e.straightenEdges()},children:"Straighten Edges"}),Object(i.jsx)(O.a,{style:{margin:"8px",height:"35px",width:"150px",fontSize:"15px"},type:"primary",onClick:function(){return c(!0)},children:"Graph Properties"}),Object(i.jsx)(O.a,{style:{margin:"8px",height:"35px",width:"150px",fontSize:"15px"},type:"primary",onClick:function(){return e.centerGraph()},children:"Center Graph"})]}),Object(i.jsx)("div",{style:{position:"absolute",marginLeft:"25px",bottom:"calc(6vh + 15px)"},children:Object(i.jsx)(O.a,{style:{width:"55px",height:"45px"},type:"primary",onClick:function(){return Se(!0)},children:Object(i.jsx)(I.a,{style:{}})})}),Object(i.jsx)(k,{modal:we,setModal:Se,loggedIn:e.loggedIn,logIn:e.logIn,logOut:e.logOut,edges:e.edges,vertices:e.vertices,bendPositions:e.bendPositions,setGraph:e.setGraph}),function(){var e=Object(i.jsxs)(r.a.Fragment,{children:[Object(i.jsx)(O.a,{onClick:function(){Xe()},children:"Cancel"},"back"),Object(i.jsx)(O.a,{type:"primary",onClick:function(){0===ce?function(){ae(ie);var e=Array(ie);e.fill([]),ge(e);var t=Array(ie);t.fill("none"),me(t)}():Ee()},children:0===ce?"Continue":"Input Graph"})]});return Object(i.jsx)(w.a,{style:{top:"10%"},title:"Input Graph",visible:p,onCancel:function(){Xe()},footer:e,children:Object(i.jsx)("div",{style:{display:"flex",width:"100%",justifyContent:"center",marginTop:"10px",marginBottom:"-5px",marginLeft:"-10px"},children:Object(i.jsx)(m.a,{onMouseDown:function(){W("none")},children:function(){if(0===ce)return Object(i.jsx)(m.a.Item,{label:"Number of Vertices (Max 20)",name:"v1",validateStatus:D,help:"error"===pe?"Invalid Input":null,children:Object(i.jsx)(v.a,{onPressEnter:function(e){ae(ie)},autoComplete:"off",onChange:function(e){return oe(e)},min:1,max:20,defaultValue:1})});for(var e=[],t=function(t){e.push(Object(i.jsx)(m.a.Item,{validateStatus:Oe[t],help:"error"===Oe[t]?"Invalid Input":null,label:JSON.stringify(t),children:Object(i.jsx)(y.a,{defaultValue:"",style:{width:"70px",margin:"2px"},onPressEnter:function(e){Ee()},autoComplete:"off",onChange:function(e){var n=Object(f.a)(he);n[t]=e.target.value.split(" ").join("").split(","),ge(n)}})}))},n=0;n<ce;++n)t(n);return Object(i.jsxs)(r.a.Fragment,{children:[Object(i.jsx)("div",{style:{marginTop:"-15px",marginBottom:"35px"},children:"Edges (adjacency list, seperating neighbors of each vertex with commas)"}),Object(i.jsx)("div",{style:{display:"flex",width:"350px",marginLeft:"auto",marginRight:"auto",flexWrap:"wrap",justifyContent:"space-around"},children:e})]})}()})})})}(),function(){var e,t;if(h.length>0){var n=h.map((function(e){return Object(i.jsx)("p",{children:e.id+" "+e.value})}));e=Object(i.jsxs)(r.a.Fragment,{children:[n,Object(i.jsx)(S.a,{message:"This feature is still in progress - please check back in a few days!",type:"warning",showIcon:!0})]}),t=Object(i.jsxs)(r.a.Fragment,{children:[Object(i.jsx)(O.a,{type:"primary",style:{marginRight:"32%"},onClick:function(){return g([])},children:"Generate Different Properties"}),Object(i.jsx)(O.a,{onClick:function(){c(!1)},children:"Return"},"back"),Object(i.jsx)(O.a,{type:"primary",onClick:function(){c(!1)},children:"Confirm"},"submit")]})}else e=Object(i.jsxs)(r.a.Fragment,{children:[Object(i.jsxs)("div",{style:{display:"flex",justifyContent:"center"},children:[Object(i.jsx)(C.a.Group,{style:{display:"flex",width:"180px",flexWrap:"wrap"},options:Ce}),Object(i.jsx)(C.a.Group,{style:{display:"flex",width:"180px",flexWrap:"wrap"},options:Ie}),Object(i.jsx)(C.a.Group,{style:{display:"flex",width:"180px",flexWrap:"wrap"},options:ke})]}),Object(i.jsx)(S.a,{message:"This feature is still in progress - please check back in a few days!",type:"warning",style:{marginTop:"40px"},showIcon:!0})]});return Object(i.jsx)(w.a,{style:{top:"25%"},width:"600px",bodyStyle:{minHeight:"200px"},title:"Graph Properties",visible:s,onOk:function(){c(!1)},onCancel:function(){c(!1)},footer:t,children:e})}(),function(){var e=Object(i.jsxs)(r.a.Fragment,{children:[Object(i.jsx)(O.a,{onClick:function(){P(!1),V(!1),T(!1)},children:"Return"},"back"),Object(i.jsx)(O.a,{type:"primary",onClick:function(){Ye(!!L)},children:L?"Add Edge":"Delete Edge"})]});return Object(i.jsx)(w.a,{style:{top:"25%"},title:L?"Add Edge":"Delete Edge",visible:Y,onCancel:function(){P(!1),V(!1),T(!1),W("none"),_("none")},footer:e,children:Object(i.jsx)("div",{style:{display:"flex",width:"100%",justifyContent:"center",marginTop:"10px",marginBottom:"-5px",marginLeft:"-10px"},children:Object(i.jsxs)(m.a,{initialValues:{remember:!0},onMouseDown:function(){W("none"),console.log("?"),_("none")},children:[Object(i.jsx)(m.a.Item,{label:"Vertex 1",name:"v1",validateStatus:D,help:"error"===D?"Invalid Input":null,children:Object(i.jsx)(y.a,{onPressEnter:function(e){Ye(!!L)},autoComplete:"off",onChange:function(e){return Z(e.target.value)}})}),Object(i.jsx)(m.a.Item,{validateStatus:R,help:"error"===R?"Invalid Input":null,label:"Vertex 2",name:"v2",children:Object(i.jsx)(y.a,{onPressEnter:function(e){Ye(!!L)},autoComplete:"off",onChange:function(e){return ee(e.target.value)}})})]})})})}(),Object(i.jsxs)("div",{style:{position:"absolute",display:"flex",right:"3%",bottom:"6%",flexWrap:"wrap",width:"125px"},children:[Object(i.jsx)(O.a,{style:{margin:"8px",height:"45px",width:"95px",fontSize:"15px",padding:"0px"},type:"primary",onClick:function(){T(!0),P(!0)},children:"Delete Edge"}),Object(i.jsx)(O.a,{style:{margin:"8px",height:"45px",width:"95px",fontSize:"15px",padding:"0px"},type:"primary",onClick:function(){e.setDeletingVertex(!0)},children:"Delete Node"}),Object(i.jsx)(O.a,{style:{margin:"8px",height:"45px",width:"95px",fontSize:"15px",padding:"0px"},type:"primary",onClick:function(){V(!0),P(!0)},children:"Add Edge"}),Object(i.jsx)(O.a,{style:{margin:"8px",height:"45px",width:"95px",fontSize:"15px",padding:"0px"},type:"primary",onClick:function(){e.setAddingVertex(!0)},children:"Add Node"})]})]})}function X(){return Object(i.jsx)("div",{style:{width:"100%",height:"100%"},children:Object(i.jsx)(S.a,{message:"Mobile view is still under construction! Please check in later (for now, please use the app on pc view - apologies for any inconveniences)",type:"warning",showIcon:!0})})}function Y(e){var t=Object(o.useState)(!1),n=Object(d.a)(t,2),s=n[0],c=n[1],a=Object(o.useState)(null),l=Object(d.a)(a,2),p=l[0],u=l[1],j=new Map,h=new Map;[{id:"0.1",node1:0,node2:1,bent:!1,posX:null,posY:null},{id:"1.2",node1:1,node2:2,bent:!1,posX:null,posY:null},{id:"1.3",node1:1,node2:3,bent:!1,posX:null,posY:null},{id:"0.2",node1:0,node2:2,bent:!1,posX:null,posY:null},{id:"0.3",node1:0,node2:3,bent:!1,posX:null,posY:null},{id:"2.3",node1:2,node2:3,bent:!1,posX:null,posY:null},{id:"0.4",node1:0,node2:4,bent:!1,posX:null,posY:null},{id:"1.4",node1:1,node2:4,bent:!1,posX:null,posY:null},{id:"2.4",node1:2,node2:4,bent:!1,posX:null,posY:null},{id:"3.4",node1:3,node2:4,bent:!1,posX:null,posY:null}].forEach((function(e){j.set(e.node1+"."+e.node2,e),h.set(e.node1+"."+e.node2,{id:e.id,bent:e.bent,posX:e.posX,posY:e.posY})}));var g=Object(o.useState)(null),f=Object(d.a)(g,2),x=f[0],O=f[1],m=Object(o.useState)(!1),v=Object(d.a)(m,2),y=v[0],w=v[1],S=Object(o.useState)(!1),C=Object(d.a)(S,2),I=C[0],k=C[1],Y=Object(o.useState)(null),P=Object(d.a)(Y,2),M=P[0],N=P[1],T=function(e,t,n){c(!0),u(t),O(e),N(n)};null===p&&T(j,[{id:0,posX:850,posY:200},{id:1,posX:1150,posY:400},{id:2,posX:550,posY:400},{id:3,posX:1050,posY:720},{id:4,posX:650,posY:720}],h);var F=function(e){y&&p.length<=30&&G(e.clientX-45,e.clientY-10),w(!1)},G=function(e,t){p.push({id:p.length,posX:e,posY:t})},L=function(){x.forEach((function(e){h.set(e.node1+"."+e.node2,{id:e.id,bent:!1,posX:0,posY:0})})),N(h)},V=function(e){var t=new Map,n=new Map;x.forEach((function(i){var o=i.id,r=Number(o.substr(0,o.indexOf("."))),s=Number(o.substr(o.indexOf(".")+1,o.length-1));if(r!==e&&s!==e){r>e&&--r,s>e&&--s;var c=r+"."+s,a=i;a.id=c,a.node1=r,a.node2=s;var l=M.get(o);l.id=c,t.set(r+"."+s,a),n.set(r+"."+s,l)}})),O(t),N(n),k(!1),z(e)},z=function(e){var t=p;t.splice(e,1);for(var n=e;n<t.length;++n)--t[n].id;u(t)},A=function(e,t){var n,i=["none","none"];return e=Number(e),t=Number(t),(!Number.isInteger(e)||e>p.length-1)&&(i[0]="error"),(!Number.isInteger(t)||t>p.length-1)&&(i[1]="error"),e===t&&(i[0]="error",i[1]="error"),"error"===i[0]||"error"===i[1]?i:(n=e>t?t+"."+e:e+"."+t,x.has(n)?["error","error"]:(O(new Map(x.set(n,{id:n,node1:e,node2:t,bent:!1,posX:null,posY:null}))),N(new Map(M.set(n,{id:n,bent:!1,posX:null,posY:null}))),["success","success"]))},D=function(e,t){var n,i=["none","none"];return e=Number(e),t=Number(t),(!Number.isInteger(e)||e>p.length-1)&&(i[0]="error"),(!Number.isInteger(t)||t>p.length-1)&&(i[1]="error"),e===t&&(i[0]="error",i[1]="error"),"error"===i[0]||"error"===i[1]?i:(n=e>t?t+"."+e:e+"."+t,x.has(n)?(function(e){var t=new Map(x);t.delete(e);var n=new Map(M);n.delete(e),O(t),N(n)}(n),["success","success"]):["error","error"])},W=function(){var e=[];p.forEach((function(t){console.log(t),t.posX=750,t.posY=420,e.push(t)})),u(e),L()},J=Object(o.useState)(window.innerWidth),B=Object(d.a)(J,2),R=(B[0],B[1]);Object(o.useEffect)((function(){s&&c(!1);var e=function(){return R(window.innerWidth)};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[x,M,window.innerWidth]);return Object(i.jsx)(r.a.Fragment,{children:window.innerWidth>"670"?Object(i.jsx)("div",{style:{overflow:"auto"},children:Object(i.jsxs)("div",{style:{display:"flex",height:"92vh",width:"94vw",marginLeft:"3vw",marginRight:"3vw",marginTop:"3vh",marginBottom:"2.75vh",overflow:"hidden"},onMouseDown:function(e){F(e),w(!1)},children:[Object(i.jsx)(E,{setAddingVertex:w,straightenEdges:L,addEdge:A,setDeletingVertex:k,deleteEdge:D,setGraph:T,edges:x,vertices:p,bendPositions:M,logIn:e.login,logOut:e.logout,loggedIn:e.loggedIn,centerGraph:W}),s?Object(i.jsx)(r.a.Fragment,{}):Object(i.jsx)(b,{vertices:p,edges:x,bendPositions:M,setVertices:u,deletingVertex:I,setBendPositions:N,onMouseDown:function(e){F(e),w(!1)},deleteVertex:V})]})}):Object(i.jsx)(X,{})})}var P=Object(g.h)((function(e){var t=Object(o.useState)(Object(g.g)().pathname.replace("/confirm_email/","")),n=Object(d.a)(t,2),r=n[0],s=(n[1],Object(o.useState)("Temp")),c=Object(d.a)(s,2),a=c[0],l=c[1],p=function(t){if(l(t),"Accepted"===t.status){e.login(t.email);var n=window.location.href,i=n.search("/confirm_email");window.location.replace(n.substr(0,i))}};return Object(o.useEffect)((function(){if(!0===e.loggedIn){var t=window.location.href,n=t.search("/confirm_email");window.location.replace(t.substr(0,n))}else fetch("https://graphtt.herokuapp.com/confirm_email/"+r,{method:"POST",body:JSON.stringify({token:r}),headers:{"Content-type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return p(e)}))}),[]),Object(i.jsx)("h1",{children:a.status})}));function M(){var e=Object(o.useState)(localStorage.getItem("loggedIn")),t=Object(d.a)(e,2),n=t[0],r=t[1],s=Object(o.useState)(localStorage.getItem("email")),c=Object(d.a)(s,2),a=(c[0],c[1],function(e){localStorage.setItem("loggedIn",!0),localStorage.setItem("email",e),r(!0)});return Object(o.useEffect)((function(){"true"==localStorage.getItem("loggedIn")?r(!0):r(!1)}),[]),Object(i.jsx)(h.a,{children:Object(i.jsxs)(g.d,{children:[Object(i.jsx)(g.b,{exact:!0,path:"/",children:Object(i.jsx)(Y,{loggedIn:n,login:a,logout:function(){localStorage.setItem("loggedIn",!1),localStorage.removeItem("email"),r(!1)}})}),Object(i.jsx)(g.b,{exact:!0,path:"/confirm_email/:token",component:function(){return Object(i.jsx)(P,{loggedIn:n,login:a})}}),Object(i.jsx)(g.b,{path:"/",children:Object(i.jsx)(g.a,{to:"/"})})]})})}var N=n(151);var T=function(){return Object(o.useEffect)((function(){})),Object(i.jsxs)(r.a.Fragment,{children:[Object(i.jsx)(N.a,{children:Object(i.jsx)("title",{children:"Graph Theory Tool"})}),Object(i.jsx)(M,{})]})},F=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,313)).then((function(t){var n=t.getCLS,i=t.getFID,o=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),i(e),o(e),r(e),s(e)}))};c.a.render(Object(i.jsx)(r.a.StrictMode,{children:Object(i.jsx)(T,{})}),document.getElementById("root")),F()}},[[303,1,2]]]);
//# sourceMappingURL=main.e66bf2c9.chunk.js.map