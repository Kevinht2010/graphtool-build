(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{184:function(e,t,n){},185:function(e,t,n){},283:function(e,t){},291:function(e,t,n){"use strict";n.r(t);var r=n(6),o=n(0),i=n.n(o),s=n(23),a=n.n(s),c=(n(184),n.p,n(185),n(28)),l=n(84),u=n(24);var d=n(10);function p(e){var t=Object(o.useState)(e.position),n=Object(d.a)(t,2),i=n[0],s=n[1],a=i[0],c=i[1];return Object(o.useEffect)((function(){s(e.position)}),[e.position]),Object(r.jsxs)("g",{style:{userSelect:"none"},onMouseDown:function(t){return e.dragStart(t,e.id,!0)},onMouseUp:function(t){return e.dragEnd(t)},children:[Object(r.jsx)("circle",{cx:a,cy:c,r:"40",stroke:"#2ab863","stroke-width":"4",fill:"#ccffcf"}),Object(r.jsx)("text",{pointerEvents:"none",textAnchor:"middle",transform:"translate(".concat(a,", ").concat(c+5,")"),fontSize:"20",children:e.id})]})}function h(e,t){return Math.sqrt(Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2))}var j=function(e){var t,n,i=Object(o.useState)(e.node1),s=Object(d.a)(i,2),a=s[0],c=s[1],l=Object(o.useState)(e.node2),u=Object(d.a)(l,2),p=u[0],j=u[1],b=Object(o.useState)(e.bendPos),g=Object(d.a)(b,2),f=(g[0],g[1]);return!1===e.bendPos.bent?(t=[(a.posX+p.posX)/2,(a.posY+p.posY)/2],n="M "+a.posX+" "+a.posY+" Q "+t[0]+" "+t[1]+" "+p.posX+" "+p.posY):(t=[e.bendPos.posX,e.bendPos.posY],n=function(e){var t=e[0],n=e[2],r=e[1],o=h(n,r),i=h(r,t),s=h(t,n),a=Math.acos((o*o+i*i-s*s)/(2*o*i)),c=.5*o*i*Math.sin(a),l=o*i*s/4/c;l=Math.round(1e3*l)/1e3;var u=+(Math.PI/2>a),d=+((n[0]-t[0])*(r[1]-t[1])-(n[1]-t[1])*(r[0]-t[0])<0);return["M",t,"A",l,l,0,u,d,n].join(" ")}([[p.posX,p.posY],t,[a.posX,a.posY]])),Object(o.useEffect)((function(){c(e.node1),j(e.node2),f(e.bendPos)}),[e.node1,e.node2,e.bendPos]),Object(r.jsxs)("svg",{children:[Object(r.jsx)("svg",{children:Object(r.jsx)("circle",{onMouseDown:function(t){e.dragStart(t,e.id,!1)},onMouseUp:function(t){return e.dragEnd(t)},cx:t[0],cy:t[1],r:6})}),Object(r.jsx)("svg",{children:Object(r.jsx)("path",{"pointer-events":"none",d:n,stroke:"black",fill:"transparent","stroke-width":"3","shape-rendering":"geometricPrecision"})})]})};function b(e){var t=Object(o.useState)(!1),n=Object(d.a)(t,2),i=n[0],s=n[1],a=Object(o.useState)(),c=Object(d.a)(a,2),l=c[0],u=c[1],h=Object(o.useState)(!1),b=Object(d.a)(h,2),g=b[0],f=b[1],O=Object(o.useState)(!1),x=Object(d.a)(O,2),m=x[0],v=x[1],y=Object(o.useState)(0),S=Object(d.a)(y,2),w=S[0],C=S[1],k=Object(o.useState)(0),I=Object(d.a)(k,2),E=I[0],P=I[1],M=Object(o.useState)([]),X=Object(d.a)(M,2),Y=X[0],N=X[1],F=function(t,n,r){if(!0===i){if(e.deletingVertex)return void e.deleteVertex(n);if(u(n),C(t.clientX),P(t.clientY),r)f(!0),N([e.vertices[n].posX,e.vertices[n].posY]);else if(v(!0),!0===e.bendPositions.get(n).bent)N([e.bendPositions.get(n).posX,e.bendPositions.get(n).posY]);else{var o=e.vertices[e.edges.get(n).node1],s=e.vertices[e.edges.get(n).node2];N([(o.posX+s.posX)/2,(o.posY+s.posY)/2])}}},A=function(e){if(g&&i){var t=e.clientX-w,n=e.clientY-E;V({id:l,posX:Y[0]+t,posY:Y[1]+n})}else if(m&&i){var r=e.clientX-w,o=e.clientY-E;L({id:l,posX:Y[0]+r,posY:Y[1]+o,bent:!0})}},T=function(){f(!1),v(!1)},V=function(t){var n=e.vertices.slice(0);n[t.id]=t,e.setVertices(n)},L=function(t){var n=new Map(e.bendPositions.set(t.id,t));e.setBendPositions(n)};return Object(o.useEffect)((function(){}),[e.vertices,e.bendPositions,e.bendPositions,e.edges,e.vertices]),Object(r.jsxs)("svg",{style:{height:"600vh",width:"600vw",backgroundColor:"#dbedff"},onMouseOver:function(){s(!0)},onMouseLeave:function(e){A(e),s(!1),T()},onMouseMove:function(e){A(e)},onMouseUp:function(){return T()},children:[function(t){var n=[];return e.edges.forEach((function(t){n.push(Object(r.jsx)(j,{dragStart:F,dragEnd:T,id:t.id,node1:e.vertices[t.node1],node2:e.vertices[t.node2],bendPos:e.bendPositions.get(t.id)}))})),n}(),e.vertices.map((function(e){return Object(r.jsx)(p,{dragStart:F,dragEnd:T,id:e.id,position:[e.posX,e.posY]})}))]})}n(186);var g=n(113),f=n(26),O=n(41),x=function e(t,n){var r=this;Object(c.a)(this,e),this.addEdge=function(e,t){return!(!/^\d+$/.test(e)||!/^\d+$/.test(t))&&(e=Number(e),t=Number(t),!(!Number.isInteger(e)||e>r.vertices.length-1)&&(!(!Number.isInteger(t)||t>r.vertices.length-1)&&(e!=t&&(n=e>t?t+"."+e:e+"."+t,r.edges.set(n,{id:n,node1:e,node2:t,bent:!1,posX:null,posY:null}),r.bendPositions.set(n,{id:n,bent:!1,posX:null,posY:null}),!0))));var n},console.log(n),this.vertices=[];for(var o=0;o<t;++o)this.vertices.push({id:o,posX:500,posY:500});this.edges=new Map,this.bendPositions=new Map,this.valid=!0,this.errors=[];for(var i=0;i<n.length;++i){this.errors.push("none");var s,a=Object(u.a)(n[i]);try{for(a.s();!(s=a.n()).done;){var l=s.value;if(!this.addEdge(i,l)){this.valid=!1,this.errors[i]="error";break}""===l&&(this.errors[i]="error")}}catch(d){a.e(d)}finally{a.f()}}},m=n(35),v=n(298),y=n(299),S=n(300),w=n(301),C=n(303),k=n(302);n(187);var I=Object(f.h)((function(e){var t=Object(o.useState)(),n=Object(d.a)(t,2),s=n[0],a=n[1],c=Object(o.useState)(!1),l=Object(d.a)(c,2),u=l[0],p=l[1],h=Object(o.useState)(!1),j=Object(d.a)(h,2),b=j[0],g=j[1],f=Object(o.useState)(!1),O=Object(d.a)(f,2),x=O[0],y=O[1],k=Object(o.useState)(!1),I=Object(d.a)(k,2),E=I[0],P=I[1],M=Object(o.useState)(!1),X=Object(d.a)(M,2),Y=X[0],N=X[1];Object(o.useEffect)((function(){}),[e.modal]);var F=function(e){!function(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}(e)?p(!0):fetch("https://graphtt.herokuapp.com/login",{method:"POST",body:JSON.stringify({email:e,route:"https://kevinht2010.github.io/graphtool/#/"}),headers:{"Content-type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return g(!0)}))},A=function(){e.setModal(!1),p(!1),g(!1),P(!1),y(!1),N(!1)},T=function(){return Object(r.jsx)(i.a.Fragment,{children:Object(r.jsx)("div",{style:{height:"40px",width:"100%",marginTop:"25px"},children:Object(r.jsx)(C.a,{message:"Graph successfully retrieved",type:"success",showIcon:!0})})})},V=function(){return Object(r.jsx)(i.a.Fragment,{children:Object(r.jsx)("div",{style:{height:"40px",width:"100%",marginTop:"25px"},children:Object(r.jsx)(C.a,{message:"Graph successfully saved",type:"success",showIcon:!0})})})},L=function(){return Object(r.jsx)(i.a.Fragment,{children:Object(r.jsx)("div",{style:{height:"40px",width:"100%",marginTop:"25px"},children:Object(r.jsx)(C.a,{message:"No graph to retrieve. Save a graph first!",type:"error",showIcon:!0})})})};return Object(r.jsx)(i.a.Fragment,{children:1==e.loggedIn?function(){var t=Object(r.jsxs)(i.a.Fragment,{children:[Object(r.jsx)(m.a,{onClick:function(){A()},children:"Return"},"back"),Object(r.jsx)(m.a,{type:"primary",onClick:function(){A(),e.logOut()},children:"Log out"},"back")]});return Object(r.jsxs)(w.a,{style:{top:"22%"},width:"550px",bodyStyle:{minHeight:"120px"},title:"Logged into "+localStorage.getItem("email"),visible:e.modal,onOk:function(){A()},onCancel:function(){A()},footer:t,children:[Object(r.jsxs)("div",{style:{display:"flex",width:"100%",justifyContent:"center",marginBottom:"5px",marginTop:"-15px",flexWrap:"wrap"},children:[Object(r.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"center",width:"220px"},children:[Object(r.jsx)("div",{style:{margin:"14px",fontSize:"18px",fontWeight:"480"},children:"Save current graph:"}),Object(r.jsx)(m.a,{type:"primary",onClick:function(){console.log(e.bendPositions),1==e.loggedIn&&fetch("https://graphtt.herokuapp.com/api/upload",{method:"POST",body:JSON.stringify({type:"upload",email:localStorage.getItem("email"),edges:JSON.stringify(Array.from(e.edges.entries())),vertices:JSON.stringify(e.vertices),bentpos:JSON.stringify(Array.from(e.bendPositions.entries()))}),headers:{"Content-type":"application/json"}}).then((function(e){return e.json()})).then((function(e){y(!0)})),y(!1),P(!1),N(!1)},children:"Save Graph"})]}),Object(r.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"center",width:"220px"},children:[Object(r.jsx)("div",{style:{margin:"14px",fontSize:"18px",fontWeight:"480"},children:"Retrieve saved graph:"}),Object(r.jsx)(m.a,{type:"primary",onClick:function(){1==e.loggedIn&&fetch("https://graphtt.herokuapp.com/api/retrieve",{method:"POST",body:JSON.stringify({type:"retrieve",email:localStorage.getItem("email")}),headers:{"Content-type":"application/json"}}).then((function(e){return e.json()})).then((function(t){console.log(t),P(!0);var n=new Map(JSON.parse(t.edges)),r=new Map(JSON.parse(t.bentpos));e.setGraph(n,JSON.parse(t.vertices),r)})),y(!1),P(!1),N(!1)},children:"Retrieve Graph"})]}),Object(r.jsx)("div",{style:{marginTop:"45px",marginBottom:"-15px"},children:"(Currently this feature is limited to 1 graph per user)"})]}),x?V():Object(r.jsx)(i.a.Fragment,{}),E?T():Object(r.jsx)(i.a.Fragment,{}),Y?L():Object(r.jsx)(i.a.Fragment,{})]})}():function(){var t=Object(r.jsxs)(i.a.Fragment,{children:[Object(r.jsx)(m.a,{onClick:function(){A()},style:{marginTop:"10px",marginBottom:"10px",marginRight:"46%"},children:"Return"},"back"),Object(r.jsx)(m.a,{type:"primary",onClick:function(){F(s)},children:"Send Confirmation Email"},"back")]});return Object(r.jsx)(w.a,{style:{top:"22%"},width:"550px",bodyStyle:{minHeight:"100px"},title:"Log In To Save Graphs",visible:e.modal,onOk:function(){A()},onCancel:function(){A()},footer:t,onClick:function(){return p(!1)},children:Object(r.jsxs)("div",{onClick:function(){p(!1)},children:[Object(r.jsx)(v.a,{name:"basic",style:{height:"30px"},children:Object(r.jsx)(v.a.Item,{label:"Email",name:"email",children:Object(r.jsx)(S.a,{onChange:function(e){a(e.target.value)}})})}),b?Object(r.jsx)(i.a.Fragment,{children:Object(r.jsx)("div",{style:{height:"40px",width:"100%",marginTop:"23px"},children:Object(r.jsx)(C.a,{message:"Email successfully sent to "+s,type:"success",showIcon:!0})})}):Object(r.jsx)(i.a.Fragment,{}),u?Object(r.jsx)(i.a.Fragment,{children:Object(r.jsx)("div",{style:{height:"40px",width:"100%",marginTop:"23px"},children:Object(r.jsx)(C.a,{message:"Invalid Email",type:"error",showIcon:!0})})}):Object(r.jsx)(i.a.Fragment,{})]})})}()})})),E=n(297),P=n(296),M=function(){function e(){Object(c.a)(this,e),this.maxCycle=0,this.minCycle=Number.MAX_VALUE,this.edges=[[1,2,3,4],[0,2,3,4],[0,1,3,4],[0,1,2,4],[0,1,2,3],[6,7,8,9],[5,7,8,9],[5,6,8,9],[5,6,7,9],[5,6,7,8],[11,12],[10,12],[10,11]],this.edges2=[[1,2,3],[0,2,3],[0,1,3],[0,1,2]]}return Object(l.a)(e,[{key:"BFS",value:function(e,t,n){var r=[t];for(n[t]=1;r.length>0;){var o,i=[],s=Object(u.a)(r);try{for(s.s();!(o=s.n()).done;)for(var a=o.value,c=0;c<e[a].length;++c)1!=n[e[a][c]]&&(++n[e[a][c]],i.push(e[a][c]))}catch(l){s.e(l)}finally{s.f()}r=i}}},{key:"longestPathFromVertex",value:function(e,t,n){var r=0;n[t]=1;var o,i=Object(u.a)(e[t]);try{for(i.s();!(o=i.n()).done;){var s=o.value;1!=n[s]&&(r=Math.max(r,1+this.longestPathFromVertex(e,s,n)))}}catch(a){i.e(a)}finally{i.f()}return r}},{key:"getComponents",value:function(e){for(var t=0,n=new Array(e.length).fill(0),r=0;r<e.length;++r)0==n[r]&&(++t,this.BFS(e,r,n));return t}},{key:"getLongestPath",value:function(e){for(var t=0,n=0;n<e.length;++n)t=Math.max(this.longestPathFromVertex(e,n,new Array(e.length).fill(0)),t);return t}},{key:"getCyclesFromVertex",value:function(e,t,n,r,o,i){var s=0;n[t]=1;var a,c=Object(u.a)(e[t]);try{for(c.s();!(a=c.n()).done;){var l=a.value;0==i[l]&&(l==r&&o>=2?(++s,o>this.maxCycle&&(this.maxCycle=o),o<this.minCycle&&(this.minCycle=o)):0==n[l]&&(s+=this.getCyclesFromVertex(e,l,n,r,o+1,i)))}}catch(d){c.e(d)}finally{c.f()}return n[t]=0,s}},{key:"generateAdjMatrix",value:function(e){for(var t=new Array(e.length),n=0;n<e.length;++n)t[n]=new Array(e.length).fill(0);for(var r=0;r<e.length;++r)for(var o=0;o<e[r].length;++o)t[r][e[r][o]]=1;return t}},{key:"getSpanningTrees",value:function(e){if(1!=this.getComponents(e))return 0;for(var t=this.generateAdjMatrix(e),n=new Array(e.length),r=0;r<e.length;++r)n[r]=new Array(e.length).fill(0);for(var o=0;o<e.length;++o)n[o][o]=e[o].length;var i=P.b(n,t);i.pop();for(var s=0;s<e.length-1;++s)i[s].pop();return P.a(i)}},{key:"countCycles",value:function(e){for(var t=new Array(e.length).fill(0),n=0,r=0;r<e.length;++r)n+=this.getCyclesFromVertex(e,r,new Array(e.length).fill(0),r,0,t)/2,t[r]=1;return n}},{key:"getProperties",value:function(e){var t=this.getSpanningTrees(e),n=this.countCycles(e),r=this.minCycle,o=this.maxCycle;return[{key:"1",property:"Longest Path",value:this.getLongestPath(e)},{key:"2",property:"Number of Components",value:this.getComponents(e)},{key:"3",property:"Spanning Trees",value:t},{key:"4",property:"Number of Cycles",value:n},{key:"5",property:"Longest Cycle",value:r==Number.MAX_VALUE?"Null":r},{key:"6",property:"Shortest Cycle",value:0==o?"Null":o}]}}]),e}();function X(e){var t=Object(o.useState)(0),n=Object(d.a)(t,2),i=(n[0],n[1],Object(o.useState)()),s=Object(d.a)(i,2),a=(s[0],s[1]),c=Object(o.useState)(),l=Object(d.a)(c,2),u=(l[0],l[1],Object(o.useState)()),p=Object(d.a)(u,2),h=p[0],j=p[1],b=new M;return Object(o.useEffect)((function(){var t=function(e,t){for(var n=new Array(e),r=0;r<e;++r)n[r]=new Array;return t.forEach((function(e,t){n[e.node1].push(e.node2),n[e.node2].push(e.node1)})),a(n),n}(e.vertices.length,e.edges);j(b.getProperties(t))}),[e.vertices,e.edges]),Object(r.jsx)(E.a,{dataSource:h,columns:[{title:"Property",dataIndex:"property",key:"name",width:250},{title:"Value",dataIndex:"value",key:"val",width:120}],pagination:{pageSize:3}})}function Y(e){var t=Object(o.useState)(!1),n=Object(d.a)(t,2),s=n[0],a=n[1],c=Object(o.useState)(!1),l=Object(d.a)(c,2),u=l[0],p=l[1],h=Object(o.useState)([{id:"cycles",value:"5"}]),j=Object(d.a)(h,2),b=(j[0],j[1],Object(o.useState)(!1)),g=Object(d.a)(b,2),f=g[0],E=g[1],P=Object(o.useState)(!1),M=Object(d.a)(P,2),Y=(M[0],M[1]),N=Object(o.useState)(!1),F=Object(d.a)(N,2),A=F[0],T=F[1],V=Object(o.useState)("none"),L=Object(d.a)(V,2),G=L[0],z=L[1],B=Object(o.useState)("none"),D=Object(d.a)(B,2),J=D[0],W=D[1],R=Object(o.useState)(""),_=Object(d.a)(R,2),U=_[0],H=_[1],$=Object(o.useState)(""),Z=Object(d.a)($,2),q=Z[0],Q=Z[1],K=Object(o.useState)(1),ee=Object(d.a)(K,2),te=ee[0],ne=ee[1],re=Object(o.useState)(0),oe=Object(d.a)(re,2),ie=oe[0],se=oe[1],ae=Object(o.useState)(),ce=Object(d.a)(ae,2),le=ce[0],ue=ce[1],de=Object(o.useState)(),pe=Object(d.a)(de,2),he=pe[0],je=pe[1],be=Object(o.useState)(),ge=Object(d.a)(be,2),fe=ge[0],Oe=ge[1],xe=Object(o.useState)(!1),me=Object(d.a)(xe,2),ve=me[0],ye=me[1],Se=function(){var t=new x(ie,he);!0===t.valid?(e.setGraph(t.edges,t.vertices,t.bendPositions),we()):Oe(t.errors)},we=function(){se(0),p(!1),ue("none"),je(),Oe()},Ce=function(t){var n;if(""!==U&&""!==q)return n=t?e.addEdge(U,q):e.deleteEdge(U,q),z(n[0]),W(n[1]),n;var r=[];return""===U?r.push("error"):r.push("none"),""===q?r.push("error"):r.push("none"),z(r[0]),W(r[1]),r};return Object(r.jsxs)(i.a.Fragment,{children:[Object(r.jsxs)("div",{style:{position:"absolute",display:"flex",marginTop:"20px",marginLeft:"20px"},children:[Object(r.jsx)(m.a,{style:{margin:"8px",height:"35px",width:"150px",fontSize:"15px"},type:"primary",onClick:function(){return p(!0)},children:"Input Graph"}),Object(r.jsx)(m.a,{style:{margin:"8px",height:"35px",width:"150px",fontSize:"15px"},type:"primary",onClick:function(){e.straightenEdges()},children:"Straighten Edges"}),Object(r.jsx)(m.a,{style:{margin:"8px",height:"35px",width:"150px",fontSize:"15px"},type:"primary",onClick:function(){return a(!0)},children:"Graph Properties"}),Object(r.jsx)(m.a,{style:{margin:"8px",height:"35px",width:"150px",fontSize:"15px"},type:"primary",onClick:function(){return e.centerGraph()},children:"Center Graph"})]}),Object(r.jsx)("div",{style:{position:"absolute",marginLeft:"25px",bottom:"calc(6vh + 15px)"},children:Object(r.jsx)(m.a,{style:{width:"55px",height:"45px"},type:"primary",onClick:function(){return ye(!0)},children:Object(r.jsx)(k.a,{})})}),Object(r.jsx)(I,{modal:ve,setModal:ye,loggedIn:e.loggedIn,logIn:e.logIn,logOut:e.logOut,edges:e.edges,vertices:e.vertices,bendPositions:e.bendPositions,setGraph:e.setGraph}),function(){var e=Object(r.jsxs)(i.a.Fragment,{children:[Object(r.jsx)(m.a,{onClick:function(){we()},children:"Cancel"},"back"),Object(r.jsx)(m.a,{type:"primary",onClick:function(){0===ie?function(){se(te);var e=Array(te);e.fill([]),je(e);var t=Array(te);t.fill("none"),Oe(t)}():Se()},children:0===ie?"Continue":"Input Graph"})]});return Object(r.jsx)(w.a,{style:{top:"10%"},title:"Input Graph",visible:u,onCancel:function(){we()},footer:e,children:Object(r.jsx)("div",{style:{display:"flex",width:"100%",justifyContent:"center",marginTop:"10px",marginBottom:"-5px",marginLeft:"-10px"},children:Object(r.jsx)(v.a,{onMouseDown:function(){z("none")},children:function(){if(0===ie)return Object(r.jsx)(v.a.Item,{label:"Number of Vertices (Max 20)",name:"v1",validateStatus:G,help:"error"===le?"Invalid Input":null,children:Object(r.jsx)(y.a,{onPressEnter:function(e){se(te)},autoComplete:"off",onChange:function(e){return ne(e)},min:1,max:20,defaultValue:1})});for(var e=[],t=function(t){e.push(Object(r.jsx)(v.a.Item,{validateStatus:fe[t],help:"error"===fe[t]?"Invalid Input":null,label:JSON.stringify(t),children:Object(r.jsx)(S.a,{defaultValue:"",style:{width:"70px",margin:"2px"},onPressEnter:function(e){Se()},autoComplete:"off",onChange:function(e){var n=Object(O.a)(he);n[t]=e.target.value.split(" ").join("").split(","),je(n)}})}))},n=0;n<ie;++n)t(n);return Object(r.jsxs)(i.a.Fragment,{children:[Object(r.jsx)("div",{style:{marginTop:"-15px",marginBottom:"35px"},children:"Edges (adjacency list, seperating neighbors of each vertex with commas)"}),Object(r.jsx)("div",{style:{display:"flex",width:"350px",marginLeft:"auto",marginRight:"auto",flexWrap:"wrap",justifyContent:"space-around"},children:e})]})}()})})})}(),function(){var t,n;return t=Object(r.jsxs)(i.a.Fragment,{children:[Object(r.jsx)(X,{vertices:e.vertices,edges:e.edges}),Object(r.jsx)(C.a,{message:"Some feature are still in progress (number of spanning forests, planarity, etc.) - please check back in a few days!",type:"warning",showIcon:!0})]}),n=Object(r.jsx)(i.a.Fragment,{children:Object(r.jsx)(m.a,{type:"primary",onClick:function(){a(!1)},children:"Return"},"submit")}),Object(r.jsx)(w.a,{style:{top:"15%"},width:"600px",bodyStyle:{minHeight:"200px"},title:"Graph Properties",visible:s,onOk:function(){a(!1)},onCancel:function(){a(!1)},footer:n,children:t})}(),function(){var e=Object(r.jsxs)(i.a.Fragment,{children:[Object(r.jsx)(m.a,{onClick:function(){E(!1),T(!1),Y(!1)},children:"Return"},"back"),Object(r.jsx)(m.a,{type:"primary",onClick:function(){Ce(!!A)},children:A?"Add Edge":"Delete Edge"})]});return Object(r.jsx)(w.a,{style:{top:"25%"},title:A?"Add Edge":"Delete Edge",visible:f,onCancel:function(){E(!1),T(!1),Y(!1),z("none"),W("none")},footer:e,children:Object(r.jsx)("div",{style:{display:"flex",width:"100%",justifyContent:"center",marginTop:"10px",marginBottom:"-5px",marginLeft:"-10px"},children:Object(r.jsxs)(v.a,{initialValues:{remember:!0},onMouseDown:function(){z("none"),console.log("?"),W("none")},children:[Object(r.jsx)(v.a.Item,{label:"Vertex 1",name:"v1",validateStatus:G,help:"error"===G?"Invalid Input":null,children:Object(r.jsx)(S.a,{onPressEnter:function(e){Ce(!!A)},autoComplete:"off",onChange:function(e){return H(e.target.value)}})}),Object(r.jsx)(v.a.Item,{validateStatus:J,help:"error"===J?"Invalid Input":null,label:"Vertex 2",name:"v2",children:Object(r.jsx)(S.a,{onPressEnter:function(e){Ce(!!A)},autoComplete:"off",onChange:function(e){return Q(e.target.value)}})})]})})})}(),Object(r.jsxs)("div",{style:{position:"absolute",display:"flex",right:"3%",bottom:"6%",flexWrap:"wrap",width:"125px"},children:[Object(r.jsx)(m.a,{style:{margin:"8px",height:"45px",width:"95px",fontSize:"15px",padding:"0px"},type:"primary",onClick:function(){Y(!0),E(!0)},children:"Delete Edge"}),Object(r.jsx)(m.a,{style:{margin:"8px",height:"45px",width:"95px",fontSize:"15px",padding:"0px"},type:"primary",onClick:function(){e.setDeletingVertex(!0)},children:"Delete Node"}),Object(r.jsx)(m.a,{style:{margin:"8px",height:"45px",width:"95px",fontSize:"15px",padding:"0px"},type:"primary",onClick:function(){T(!0),E(!0)},children:"Add Edge"}),Object(r.jsx)(m.a,{style:{margin:"8px",height:"45px",width:"95px",fontSize:"15px",padding:"0px"},type:"primary",onClick:function(){e.setAddingVertex(!0)},children:"Add Node"})]})]})}function N(){return Object(r.jsx)("div",{style:{width:"100%",height:"100%"},children:Object(r.jsx)(C.a,{message:"Mobile view is still under construction! Please check in later (for now, please use the app on pc view - apologies for any inconveniences)",type:"warning",showIcon:!0})})}function F(e){var t=Object(o.useState)(!1),n=Object(d.a)(t,2),s=n[0],a=n[1],c=Object(o.useState)(null),l=Object(d.a)(c,2),u=l[0],p=l[1],h=new Map,j=new Map;[{id:"0.1",node1:0,node2:1,bent:!1,posX:null,posY:null},{id:"1.2",node1:1,node2:2,bent:!1,posX:null,posY:null},{id:"1.3",node1:1,node2:3,bent:!1,posX:null,posY:null},{id:"0.2",node1:0,node2:2,bent:!1,posX:null,posY:null},{id:"0.3",node1:0,node2:3,bent:!1,posX:null,posY:null},{id:"2.3",node1:2,node2:3,bent:!1,posX:null,posY:null},{id:"0.4",node1:0,node2:4,bent:!1,posX:null,posY:null},{id:"1.4",node1:1,node2:4,bent:!1,posX:null,posY:null},{id:"2.4",node1:2,node2:4,bent:!1,posX:null,posY:null},{id:"3.4",node1:3,node2:4,bent:!1,posX:null,posY:null}].forEach((function(e){h.set(e.node1+"."+e.node2,e),j.set(e.node1+"."+e.node2,{id:e.id,bent:e.bent,posX:e.posX,posY:e.posY})}));var g=Object(o.useState)(null),f=Object(d.a)(g,2),O=f[0],x=f[1],m=Object(o.useState)(!1),v=Object(d.a)(m,2),y=v[0],S=v[1],w=Object(o.useState)(!1),C=Object(d.a)(w,2),k=C[0],I=C[1],E=Object(o.useState)(null),P=Object(d.a)(E,2),M=P[0],X=P[1],F=function(e,t,n){a(!0),p(t),x(e),X(n)};null===u&&F(h,[{id:0,posX:850,posY:200},{id:1,posX:1150,posY:400},{id:2,posX:550,posY:400},{id:3,posX:1050,posY:720},{id:4,posX:650,posY:720}],j);var A=function(e){y&&u.length<=30&&T(e.clientX-45,e.clientY-10),S(!1)},T=function(e,t){u.push({id:u.length,posX:e,posY:t})},V=function(){O.forEach((function(e){j.set(e.node1+"."+e.node2,{id:e.id,bent:!1,posX:0,posY:0})})),X(j)},L=function(e){var t=new Map,n=new Map;O.forEach((function(r){var o=r.id,i=Number(o.substr(0,o.indexOf("."))),s=Number(o.substr(o.indexOf(".")+1,o.length-1));if(i!==e&&s!==e){i>e&&--i,s>e&&--s;var a=i+"."+s,c=r;c.id=a,c.node1=i,c.node2=s;var l=M.get(o);l.id=a,t.set(i+"."+s,c),n.set(i+"."+s,l)}})),x(t),X(n),I(!1),G(e)},G=function(e){var t=u;t.splice(e,1);for(var n=e;n<t.length;++n)--t[n].id;p(t)},z=function(e,t){var n,r=["none","none"];return e=Number(e),t=Number(t),(!Number.isInteger(e)||e>u.length-1)&&(r[0]="error"),(!Number.isInteger(t)||t>u.length-1)&&(r[1]="error"),e===t&&(r[0]="error",r[1]="error"),"error"===r[0]||"error"===r[1]?r:(n=e>t?t+"."+e:e+"."+t,O.has(n)?["error","error"]:(x(new Map(O.set(n,{id:n,node1:e,node2:t,bent:!1,posX:null,posY:null}))),X(new Map(M.set(n,{id:n,bent:!1,posX:null,posY:null}))),["success","success"]))},B=function(e,t){var n,r=["none","none"];return e=Number(e),t=Number(t),(!Number.isInteger(e)||e>u.length-1)&&(r[0]="error"),(!Number.isInteger(t)||t>u.length-1)&&(r[1]="error"),e===t&&(r[0]="error",r[1]="error"),"error"===r[0]||"error"===r[1]?r:(n=e>t?t+"."+e:e+"."+t,O.has(n)?(function(e){var t=new Map(O);t.delete(e);var n=new Map(M);n.delete(e),x(t),X(n)}(n),["success","success"]):["error","error"])},D=function(){var e=[];u.forEach((function(t){console.log(t),t.posX=750,t.posY=420,e.push(t)})),p(e),V()},J=Object(o.useState)(window.innerWidth),W=Object(d.a)(J,2),R=(W[0],W[1]);Object(o.useEffect)((function(){s&&a(!1);var e=function(){return R(window.innerWidth)};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[O,M,window.innerWidth]);return Object(r.jsx)(i.a.Fragment,{children:window.innerWidth>"670"?Object(r.jsx)("div",{style:{overflow:"auto"},children:Object(r.jsxs)("div",{style:{display:"flex",height:"92vh",width:"94vw",marginLeft:"3vw",marginRight:"3vw",marginTop:"3vh",marginBottom:"2.75vh",overflow:"hidden"},onMouseDown:function(e){A(e),S(!1)},children:[Object(r.jsx)(Y,{setAddingVertex:S,straightenEdges:V,addEdge:z,setDeletingVertex:I,deleteEdge:B,setGraph:F,edges:O,vertices:u,bendPositions:M,logIn:e.login,logOut:e.logout,loggedIn:e.loggedIn,centerGraph:D}),s?Object(r.jsx)(i.a.Fragment,{}):Object(r.jsx)(b,{vertices:u,edges:O,bendPositions:M,setVertices:p,deletingVertex:k,setBendPositions:X,onMouseDown:function(e){A(e),S(!1)},deleteVertex:L})]})}):Object(r.jsx)(N,{})})}var A=Object(f.h)((function(e){var t=Object(o.useState)(Object(f.g)().pathname.replace("/confirm_email/","")),n=Object(d.a)(t,2),i=n[0],s=(n[1],Object(o.useState)("Temp")),a=Object(d.a)(s,2),c=a[0],l=a[1],u=function(t){if(l(t),"Accepted"===t.status){e.login(t.email);var n=window.location.href,r=n.search("/confirm_email");window.location.replace(n.substr(0,r))}};return Object(o.useEffect)((function(){if(!0===e.loggedIn){var t=window.location.href,n=t.search("/confirm_email");window.location.replace(t.substr(0,n))}else fetch("https://graphtt.herokuapp.com/confirm_email/"+i,{method:"POST",body:JSON.stringify({token:i}),headers:{"Content-type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return u(e)}))}),[]),Object(r.jsx)("h1",{children:c.status})}));function T(){var e=Object(o.useState)(localStorage.getItem("loggedIn")),t=Object(d.a)(e,2),n=t[0],i=t[1],s=Object(o.useState)(localStorage.getItem("email")),a=Object(d.a)(s,2),c=(a[0],a[1],function(e){localStorage.setItem("loggedIn",!0),localStorage.setItem("email",e),i(!0)});return Object(o.useEffect)((function(){"true"==localStorage.getItem("loggedIn")?i(!0):i(!1)}),[]),Object(r.jsx)(g.a,{children:Object(r.jsxs)(f.d,{children:[Object(r.jsx)(f.b,{exact:!0,path:"/",children:Object(r.jsx)(F,{loggedIn:n,login:c,logout:function(){localStorage.setItem("loggedIn",!1),localStorage.removeItem("email"),i(!1)}})}),Object(r.jsx)(f.b,{exact:!0,path:"/confirm_email/:token",component:function(){return Object(r.jsx)(A,{loggedIn:n,login:c})}}),Object(r.jsx)(f.b,{path:"/",children:Object(r.jsx)(f.a,{to:"/"})})]})})}var V=n(170);var L=function(){return Object(o.useEffect)((function(){})),Object(r.jsxs)(i.a.Fragment,{children:[Object(r.jsx)(V.a,{children:Object(r.jsx)("title",{children:"Graph Theory Tool"})}),Object(r.jsx)(T,{})]})},G=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,304)).then((function(t){var n=t.getCLS,r=t.getFID,o=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),r(e),o(e),i(e),s(e)}))};a.a.render(Object(r.jsx)(i.a.StrictMode,{children:Object(r.jsx)(L,{})}),document.getElementById("root")),G()}},[[291,1,2]]]);
//# sourceMappingURL=main.faf03833.chunk.js.map